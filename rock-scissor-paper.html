<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=, initial-scale=1.0">
    <title>Document</title>

    <style>
        .qwe{
            padding-left: 10px;
            padding-right: 15px;
            padding-bottom: 15px;
            padding-top: 15px;
            border-radius: 25px;
            border:none;
            background-color: aqua;
            font-weight: bold;
            cursor: pointer;
        }
        .hello{
            background-color: rgb(128, 142, 142);
        }
    </style>
</head>
<body>
    
    <p>Rock, Paper, Scissor</p>
    <button onclick="PlayerGame('Rock');    ">Rock</button>
    <button onclick="PlayerGame('Paper');   ">Paper</button>
    <button onclick="PlayerGame('Scissor'); ">Scissor</button>
    <p class="name-cons"></p>
    <button onclick="resetScore();">Reset Score</button>
    <button class="qwe"> subscribe </button>
    

    <script>
         const play = document.querySelector('.qwe');
         play.addEventListener('click', ()=> {
             if (play.innerText === 'subscribe') {
                play.innerHTML = 'subscribed';
                play.classList.add('hello');
            } else {
                play.innerHTML = 'subscribe';
                play.classList.remove('hello');
            }
         });
        let score = (JSON.parse(localStorage.getItem('score')));

        if(!score){
            score = {
                wins: 0,
                losses:0,
                ties:0
            }
        }
        function resetScore() {
            score.wins = 0;
            score.losses = 0;
            score.ties = 0;
            localStorage.removeItem('score');
            alert('Score has been reset. wins: 0, losses: 0, ties: 0'
            );
        }

        

        
        document.querySelector('.name-cons').innerHTML= `wins: ${score.wins}, losses: ${score.losses}, ties: ${score.ties}`
        
        function PlayerGame(PlayerChoice) {
            const computerChoice = startGame();
            let result = '';
            if(PlayerChoice === 'Scissor'){
                if(computerChoice === 'Rock'){
                    result = 'lose';
                } else if (computerChoice === 'Paper'){
                    result = 'win';
                } else if (computerChoice === 'Scissor'){
                    result = 'tie';
                }
            }else if (PlayerChoice === 'Paper'){
                if(computerChoice === 'Rock'){
                    result = 'win';
                } else if (computerChoice === 'Paper'){
                    result = 'tie';
                } else if (computerChoice === 'Scissor'){
                    result = 'lose';
                }
            } else if (PlayerChoice === 'Rock'){
                if(computerChoice === 'Rock'){
                    result = 'tie';
                } else if (computerChoice === 'Paper'){
                    result = 'lose';
                } else if (computerChoice === 'Scissor'){
                    result = 'win';
                }
            }
            if (result === 'win') {
                score.wins += 1;
            } else if (result === 'lose') {
                score.losses += 1;
            } else if (result === 'tie') {
                score.ties += 1;
            }
            // kumukuha ako ng data sa score tapos covert to string para save storage
            localStorage.setItem('score',JSON.stringify(score));

            document.querySelector('.name-cons').innerHTML= `wins: ${score.wins}, losses: ${score.losses}, ties: ${score.ties}`;
            alert(`you chose ${PlayerChoice}. computer chose ${computerChoice}. ${result}
wins: ${score.wins}, losses: ${score.losses}, ties: ${score.ties}`);
        }

        function startGame() {
            const random = Math.random();
            let computerChoice = '';

            if(random >= 0 && random < 1/3){
                computerChoice = 'Rock';
            } else if (random >= 1/3 && random < 2/3){
                computerChoice = 'Paper';
            } else if (random >= 2/3 && random <= 1 ){
                computerChoice = 'Scissor';
            }
            return computerChoice;
        }
    </script>
</body>
</html>